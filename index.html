<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>スロットデータ</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>📊 ホールデータビューア</h1>
  
  <!-- タブ -->
  <div class="tabs">
    <button class="tab active" data-tab="daily">日別データ</button>
    <button class="tab" data-tab="trend">差枚トレンド</button>
    <button class="tab" data-tab="stats">機種別統計</button>
  </div>
  
  <!-- 日別データタブ -->
  <div id="daily" class="tab-content active">
    <div class="date-nav">
      <button id="prevDate">◀ 前日</button>
      <span class="current-date" id="currentDateLabel">-</span>
      <button id="nextDate">翌日 ▶</button>
    </div>
    
    <div class="controls">
      <select id="dateSelect"></select>
      <input type="text" id="search" placeholder="機種名・台番号で検索">
      <select id="sortBy">
        <option value="">並び替え</option>
        <option value="sa_desc">差枚 ↓</option>
        <option value="sa_asc">差枚 ↑</option>
        <option value="game_desc">G数 ↓</option>
      </select>
    </div>
    
    <!-- 列フィルター -->
    <div class="filter-panel">
      <h4>🔍 列フィルター</h4>
      <div class="filter-row">
        <div class="filter-item">
          <label>差枚</label>
          <select id="filterSaOp">
            <option value="">--</option>
            <option value="gte">以上</option>
            <option value="lte">以下</option>
          </select>
          <input type="number" id="filterSaVal" placeholder="枚">
        </div>
        <div class="filter-item">
          <label>G数</label>
          <select id="filterGOp">
            <option value="">--</option>
            <option value="gte">以上</option>
            <option value="lte">以下</option>
          </select>
          <input type="number" id="filterGVal" placeholder="G">
        </div>
      </div>
      <div class="filter-buttons">
        <button class="btn-apply" id="applyFilter">フィルター適用</button>
        <button class="btn-reset" id="resetFilter">リセット</button>
      </div>
    </div>
    
    <div class="summary" id="summary"></div>
    
    <div class="table-wrapper">
      <table id="data-table">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
  
  <!-- 差枚トレンドタブ -->
  <div id="trend" class="tab-content">
    <div class="trend-settings">
      <label>
        表示日数:
        <select id="trendDays">
          <option value="3">3日間</option>
          <option value="5">5日間</option>
          <option value="7" selected>7日間</option>
          <option value="10">10日間</option>
          <option value="0">全期間</option>
        </select>
      </label>
      <label>
        機種:
        <select id="trendMachineFilter">
          <option value="">全機種</option>
        </select>
      </label>
      <label>
        並び替え:
        <select id="trendSortBy">
          <option value="total_desc">合計差枚 ↓</option>
          <option value="total_asc">合計差枚 ↑</option>
          <option value="avg_desc">平均差枚 ↓</option>
          <option value="latest_desc">最新日差枚 ↓</option>
        </select>
      </label>
    </div>
    
    <!-- トレンドフィルター -->
    <div class="trend-filter-panel">
      <h4>🔍 日別差枚フィルター</h4>
      <p class="trend-filter-description">全ての日で条件を満たす台を抽出します（連日プラス・連日マイナス台の発見に便利）</p>
      <div class="trend-filter-row">
        <div class="trend-filter-item">
          <label>各日の差枚が</label>
          <select id="trendFilterOp">
            <option value="">--</option>
            <option value="gte">以上</option>
            <option value="lte">以下</option>
          </select>
          <input type="number" id="trendFilterVal" placeholder="枚">
        </div>
        <button class="btn-apply" id="applyTrendFilter">適用</button>
        <button class="btn-reset" id="resetTrendFilter">リセット</button>
      </div>
      <div class="preset-buttons">
        <button class="preset-btn" data-op="gte" data-val="0">連日プラス (≥0)</button>
        <button class="preset-btn" data-op="gte" data-val="500">連日+500以上</button>
        <button class="preset-btn" data-op="lte" data-val="0">連日マイナス (≤0)</button>
        <button class="preset-btn" data-op="lte" data-val="-500">連日-500以下</button>
      </div>
    </div>
    
    <div class="summary" id="trendSummary"></div>
    
    <div class="table-wrapper">
      <table id="trend-table">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
  
  <!-- 機種別統計タブ -->
<div id="stats" class="tab-content">
  <div class="controls">
    <select id="statsDateSelect"></select>
    <select id="statsMachineSelect">
      <option value="">全機種</option>
    </select>
    <select id="statsSortBy">
      <option value="total_desc">総差枚 ↓</option>
      <option value="total_asc">総差枚 ↑</option>
      <option value="avg_desc">平均差枚 ↓</option>
      <option value="avg_asc">平均差枚 ↑</option>
      <option value="count_desc">台数 ↓</option>
    </select>
  </div>
  
  <div id="statsContent"></div>
</div>

  <script src="js/app.js"></script>
</body>
</html>
